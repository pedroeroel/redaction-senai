{% extends "layout.html" %}
{% set header = True %}
{% set footer = True %}
{% set main = True %}

{% block pagename %}Mini-Aulas{% endblock %}
{% block pagetext %}Mini-Aulas de Reda√ß√£o{% endblock %}

{% block content %}
    <div class="container mx-auto px-2 sm:px-6 lg:px-8 py-6 md:py-16">

        <div class="max-w-3xl mx-auto md:mx-0 mb-8 md:mb-12 text-center md:text-left">
            <h1 class="text-3xl sm:text-4xl lg:text-5xl font-bold mb-4 leading-tight text-[#E8E1CF]">
                Mini-Aulas de Reda√ß√£o üß†
            </h1>
            <p class="text-base sm:text-lg text-[#E8E1CF] opacity-90 leading-relaxed">
                Aprenda de forma r√°pida e eficiente os segredos de uma boa reda√ß√£o!
            </p>
            <hr class="border-t-2 border-[#E8E1CF] opacity-50 w-24 sm:w-32 mt-4 mx-auto md:mx-0">
        </div>

        <!-- Filtros visuais -->
        <div class="bg-[#3D1E8D] p-4 sm:p-6 rounded-xl shadow-lg mb-8 flex flex-col md:flex-row items-stretch md:items-center gap-4">
            <div class="relative w-full md:flex-1">
                <input type="text" placeholder="Buscar mini-aula..." 
                       class="w-full p-3 pl-4 rounded-lg bg-[#2A0F5E] text-[#E8E1CF] placeholder-[#E8E1CF] placeholder-opacity-70 focus:outline-none focus:ring-2 focus:ring-[#A78BFA] transition-all">
            </div>
            
            <select class="w-full md:w-auto p-3 rounded-lg bg-[#2A0F5E] text-[#E8E1CF] focus:outline-none focus:ring-2 focus:ring-[#A78BFA] cursor-pointer transition-all">
                <option>Todas as Categorias</option>
                <option>Reda√ß√£o</option>
                <option>Coes√£o e Coer√™ncia</option>
                <option>Vocabul√°rio</option>
                <option>Estrutura e Argumenta√ß√£o</option>
            </select>

            <select class="w-full md:w-auto p-3 rounded-lg bg-[#2A0F5E] text-[#E8E1CF] focus:outline-none focus:ring-2 focus:ring-[#A78BFA] cursor-pointer transition-all">
                <option>Todos os Status</option>
                <option>Conclu√≠das</option>
                <option>Pendentes</option>
            </select>
        </div>

        <!-- Lista din√¢mica -->
        {% if classes %}
        <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            {% for class in classes %}
            <a href="{{ class.link }}" 
               class="bg-[#3D1E8D] p-5 sm:p-6 rounded-xl shadow-lg hover:brightness-110 active:brightness-90 transition transform hover:-translate-y-1 justify-between flex flex-col min-h-[200px] border border-transparent hover:border-[#A78BFA]/30">
                
                <div>
                    <h2 class="text-xl sm:text-2xl font-semibold mb-2 text-[#E8E1CF]">{{ class.title }}</h2>
                    <p class="text-sm sm:text-base opacity-90 mb-4 line-clamp-3 text-[#E8E1CF]">{{ class.description }}</p>
                </div>

                <div>
                    <div class="flex justify-between text-sm opacity-75 mb-3 border-t border-[#E8E1CF]/10 pt-3">
                        <span class="flex items-center gap-1">üïí {{ class.duration }}</span>
                        <span class="text-[#A78BFA] font-semibold">{{ class.level }}</span>
                    </div>
                    <div class="flex justify-between items-center">
                        <span class="text-xs uppercase tracking-wide opacity-80 bg-[#2A0F5E] px-2 py-1 rounded">{{ class.category }}</span>
                        {% if class.status == 'completed' %}
                            <span class="bg-green-500/20 text-green-300 border border-green-500/50 px-3 py-1 rounded-full text-xs font-bold flex items-center gap-1">
                                <span>‚úì</span> Conclu√≠da
                            </span>
                        {% else %}
                            <span class="bg-yellow-500/20 text-yellow-300 border border-yellow-500/50 px-3 py-1 rounded-full text-xs font-bold">
                                Pendente
                            </span>
                        {% endif %}
                    </div>
                </div>
            </a>
            {% endfor %}
        </div>
        {% else %}
        <div class="flex flex-col justify-center items-center py-20 text-center">     
            <div class="text-6xl mb-4">üìö</div>
            <p class="text-xl text-[#E8E1CF] opacity-80">Nenhuma mini-aula encontrada.</p>
            <p class="text-sm text-[#E8E1CF] opacity-60 mt-2">Tente ajustar os filtros ou volte mais tarde!</p>
        </div>
        {% endif %}
    </div>
{% endblock %}